# 왜 프로젝트에 JPA를 도입하셨나요?

[스티치의 JPA 도입 이유](stitch.md)

[비밥의 JPA 도입 이유](bebop.md)

[엘리의 JPA 도입 이유](elly-why-jpa.md)

---

## 스티치 - JPA

JPA를 실무에서 더 많이 사용하니까요!!!라고 하면 안되겠죠? 먼저 JDBC는 connection부터 시작해서 많은 세세한 부분들을 직접 관리해야 했습니다. 코드의 중복도 많이 발생하기 때문에 선택사항에서 제외되었습니다. JDBC의 중복된 코드들을 추상화한 Spring JDBC도 있었습니다. Connection과 RowMapper등이 추상화되어 사용하기 쉬웠으나 그래도 직접 쿼리를 작성하여 관리하는 점은 큰 단점이었습니다. 이런 부분들을 해결해준 기술로는 Spring Data JDBC와 JPA가 있었습니다. 기존에 Spring Data JDBC를 사용했었지만 이번에 JPA가 가지는 객체지향적인 설계와 쿼리, 영속성 컨텍스트 등의 장점을 경험해보고 싶어서 선택했고, 여기에서 좀 더 사용자에게 편리하고 추상화되어있는 Spring Data JPA를 선택하였습니다.

## 비밥 - JPA

JPA를 사용한 가장 큰 이유는 **RDB와 객체지향 프로그래밍간의 패러다임의 불일치를 해결**하기 위해서 이다.
대표적으로 객체간의 **연관관계를 표현하기 어려운 것과 상속과 같은 객체의 표현**을 RDB로는 표현하기가 어렵다.  
이러한 차이를 중간에서 추상화해서 해결해주는 기술이 JPA이기 때문이다.

또한 MyBatis와 같이 데이터 베이스에 영속되는 데이터가 변경된다면 그에 맞춰 INSERT, UPDATE 쿼리가 반복적으로 수정되어야 하는데 이러한 **반복적인 쿼리 작성**을 하지 않게 해준다. 

그리고 **특정 데이터 베이스 기술에 의존적이지 않기 때문에** 데이터 베이스가 바뀌어도 쉽게 대처가 가능해진다.

## 엘리 - JPA

- **SQL 중심 개발에서 객체 중심 개발이 가능해진다.**

  SQL 중심적인 개발에서는 지루한 코드가 무한 반복된다. CRUD가 반복되고, 자바 객체를 SQL로, SQL을 자바 객체로 변환하는 과정이 반복된다.

  예를 들어, 회원 객체에 나이 정보를 추가하고 싶을 때, Member 클래스에 `private int age;`를 추가하면 관련된 모든 쿼리에 age를 추가해야 한다. (SQLMapper 의 단점)

- **RDB와 객체 지향 프로그래밍 간의 패러다임 불일치 문제를 해결할 수 있다.**

  객체지향 프로그래밍은 객체들 간의 협업을 중심으로 하는 프로그래밍이고, RDB(관계형 데이터베이스)는 데이터를 잘 정규화해서 보관하는 것이 목표이다.

  대표적으로 객체에는 상속 관계가 있고, RDB에는 상속 관계가 없다.

  패러다임이 다른 두 가지를 억지로 매핑하려다 보니 불필요한 매핑 과정이 너무 많이 발생한다.

- **영속성 컨텍스트를 제공한다.**

  영속성 컨텍스트는 버퍼 역할을 한다. 영속된 엔티티를 조회하면 DB에 SELECT 쿼리를 날릴 필요 없이, 영속성 컨텍스트 안에서 바로 조회가 가능하다. + `lazy loading`이나 `dirty checking` 기능도 제공한다.

  *성능이 눈에 띄게 향상되는지는 의문이다.*