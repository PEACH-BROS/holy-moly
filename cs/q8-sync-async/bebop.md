# 동기와 비동기

동기란 모든 작업이 순서를 가지고 순차적으로 진행되고 끝과 동시에 다시 시작 됨을 의미하지만  
비동기는 작업이 순서를 가지고 실행이 될지언정 하나의 작업이 끝나기 전에 다른 작업이 시작 될 수 있음을 의미한다.

## Blocking, Non-Blocking

동기와 비동기를 다루면서 Blocking, Non-Bloking을 같이 다루지 않으면 섭섭하다.

Bloking방식과 Non-Bloking 방식의 차이는 코드 실행의 제어권을 넘기느냐 넘기지 않느냐에 따라 다른데  
Bloking은 코드 실행의 제어권을 넘기지 않는 것을 의미하고, Non-Bloking은 제어권을 넘기고 각자 실행하게 됨을 의미한다.

Blocking/NonBlocking은 호출되는 함수가 바로 리턴하느냐 마느냐가 관심사다.

### 익숙한 것

우리에게 익숙하고 쉽게 이해할 수 있는 개념은 Blocking-동기, Non-Bloking-비동기 이다.

#### Bloking - 동기(Sync)

메서드 A가 코드를 실행하다가 내부에 있던 메서드 B를 부르는 순간 제어권을 메서드 B에게 넘기고  
A는 제어권이 없기 때문에 B가 제어권을 넘겨줄 때 까지 기다리고 있어야한다.

1. 메서드 A의 코드가 진행된다.
2. 메서드 A 내부의 메서드 B를 호출한다.
   1. B의 코드를 실행한다. - A는 B가 제어권을 돌려줄때 까지 기다린다.
   2. B가 코드 실행을 마치고 결과와 함께 제어권을 돌려준다.
3. 메서드 A는 제어권을 돌려받고 나머지 코드를 실행한다.

#### Non-Bloking - 비동기(Async)

메서드 A의 코드가 실행되다가 내부에 있던 메서드 B를 부르면 제어권을 넘겼다가 바로 돌려받는다.  
결국 A의 코드진행은 계속되고 B의 코드 진행 또한 계속된다.

1. 메서드 A의 코드 진행
2. 메서드 A 내부의 메서드 B를 호출한다.
3. 메서드 A는 제어권을 B에 넘겼다가 돌려받고 A의 나머지 코드를 실행한다.
4. B도 제어권을 받았다가 제어권을 넘겨주고 자신의 코드를 마저 실행한다.

## 동기(Sync), 비동기(Async)

Blocking, Non-Blocking이 함수의 결과를 리턴하는 것이 관심사 였다면 동기, 비동기는 호출당한 함수(메서드 B)의 결과를 누가 신경쓰느냐가 관심사이다. 

메서드 A(호출한 함수)가 메서드 B(호출당한 함수)의 결과를 기다리고 있다면 동기(Sync)이고, 기다리지 않으면 비동기(Async)이다.

### 익숙하지 않은것

#### 동기(Sync) - Non-Blocking 

Non-Blocking 방식이기 때문에 메서드 A가 메서드 B를 호출한 다음에 자신의 일을 마저 진행할 것이다.

다만 메서드 B의 결과를 확인해야하기 때문에(**동기이기 때문에**) 메서드 A는 주기적으로 B가 완료되었는지 확인하는 작업이 있을 것이다.

1. 메서드 A의 코드 진행
2. 메서드 A의 메서드 B 호출
3. 메서드 A와 메서드 B의 동시 진행
4. 메서드 A는 메서드 B가 완료되었는지 확인
   1. 메서드 B는 끝났으면 끝났다는 결과를 반환
   2. 아니라면 계속해서 자신의 작업을 진행
5. 메서드 A는 메서드 B가 끝났다는 결과를 반환하면 다음 작업을 진행

#### 비동기(Async) - Blocking

사실상 동기 Blocking이랑 크게 다를게 없는데 비동기-NonBlocking 방식으로 작성하다 특정 부분에서 Blocking으로 동작해야 하는 부분이 발생하면 그 때 비동기-Blocking이라고 하는 것 같다.

예를 들자면 javascript로 서버사이드를 작성하다가 DB를 이용한 작업이 필요하다면 그 부분은 Blocking으로 작성할 수 밖에 없을 것이다.

> 참고
>
> 사실상 정리를 정리했다.

https://homoefficio.github.io/2017/02/19/Blocking-NonBlocking-Synchronous-Asynchronous/