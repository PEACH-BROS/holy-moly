# í”„ë¡œì„¸ìŠ¤ vs ìŠ¤ë ˆë“œ

## í”„ë¡œì„¸ìŠ¤

- ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì™€ì„œ ì‹¤í–‰ë˜ê³  ìžˆëŠ” í”„ë¡œê·¸ëž¨ì˜ ì¸ìŠ¤í„´ìŠ¤ (ë…ë¦½ì ì¸ ê°œì²´)
- **ìš´ì˜ì²´ì œë¡œë¶€í„° ì‹œìŠ¤í…œ ìžì›ì„ í• ë‹¹ë°›ëŠ” ìž‘ì—…ì˜ ë‹¨ìœ„**



![img](https://gmlwjd9405.github.io/images/os-process-and-thread/process.png)

- í”„ë¡œì„¸ìŠ¤ëŠ” Code, Data, Stack, Heap (ê°ê° ë…ë¦½ëœ ë©”ëª¨ë¦¬ ì˜ì—­)ì„ í• ë‹¹ë°›ëŠ”ë‹¤.
  - Code : í”„ë¡œê·¸ëž¨ì˜ ì‹¤ì œ ì½”ë“œ ì €ìž¥
  - Data : í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ë  ë•Œ ì •ì˜ëœ ì „ì—­ ë³€ìˆ˜, static ë³€ìˆ˜ ì €ìž¥
  - Stack : í•¨ìˆ˜ì—ì„œ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ë“±ì˜ ì„œë¸Œë£¨í‹´ ì •ë³´ ì €ìž¥(â—ï¸ìž¬ê·€ì™€ ìŠ¤íƒì´ ê´€ë ¨ ìžˆëŠ” ì´ìœ )
  - Heap : ëŸ°íƒ€ìž„ ì¤‘ ë™ì ìœ¼ë¡œ í• ë‹¹ë°›ëŠ” ë³€ìˆ˜ë“¤ ì €ìž¥ (í•¨ìˆ˜ ë‚´ì—ì„œ ì„ ì–¸ëœ ë³€ìˆ˜ ë“±)

- í”„ë¡œì„¸ìŠ¤ ë‹¹ ê¸°ë³¸ì ìœ¼ë¡œ ìµœì†Œ 1ê°œì˜ ìŠ¤ë ˆë“œ(ë©”ì¸ ìŠ¤ë ˆë“œ)ë¥¼ ê°€ì§€ê³  ìžˆë‹¤.

ê° í”„ë¡œì„¸ìŠ¤ëŠ” ë³„ë„ì˜ ì£¼ì†Œ ê³µê°„ì—ì„œ ì‹¤í–‰ë˜ë©°, í•œ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ë³€ìˆ˜ë‚˜ ìžë£Œêµ¬ì¡°ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë‹¤.

- í•œ í”„ë¡œì„¸ìŠ¤ê°€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ìžì›ì— ì ‘ê·¼í•˜ë ¤ë©´ í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹  (IPC, Inter-Process-Communication)ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. (ex. íŒŒì´í”„, íŒŒì¼, ì†Œìº£)



## ìŠ¤ë ˆë“œ

- í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” íë¦„ì˜ ë‹¨ìœ„

- **í”„ë¡œì„¸ìŠ¤ê°€ í• ë‹¹ë°›ì€ ìžì›ì„ ì´ìš©í•˜ëŠ” ì‹¤í–‰ì˜ ë‹¨ìœ„**

  

  ![img](https://gmlwjd9405.github.io/images/os-process-and-thread/thread.png)

- í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ Stackë§Œ ë”°ë¡œ í• ë‹¹ë°›ê³ , Code, Data, Heap ì˜ì—­ (ì£¼ì†Œ ê³µê°„ì´ë‚˜ ìžì›)ì€ ê³µìœ í•œë‹¤.

- í•œ ìŠ¤ë ˆë“œê°€ í”„ë¡œì„¸ìŠ¤ ìžì›ì„ ë³€ê²½í•˜ë©´, ë‹¤ë¥¸ ì´ì›ƒ ìŠ¤ë ˆë“œ (sibling thread)ë„ ê·¸ ë³€ê²½ ê²°ê³¼ë¥¼ ì¦‰ì‹œ ë³¼ ìˆ˜ ìžˆë‹¤.



### ë©€í‹° í”„ë¡œì„¸ìŠ¤ ëŒ€ì‹  ë©€í‹° ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ?

ì‹œìŠ¤í…œ ìžì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´.

ì‰½ê²Œ ë§í•˜ë©´, í”„ë¡œê·¸ëž¨ì„ ì—¬ëŸ¬ ê°œ ì¼œëŠ” ê²ƒë³´ë‹¤ í•˜ë‚˜ì˜ í”„ë¡œê·¸ëž¨ ì•ˆì—ì„œ ì—¬ëŸ¬ ìž‘ì—…ì„ í•´ê²°í•˜ëŠ” ê²ƒì´ë‹¤.

ë©€í‹° í”„ë¡œì„¸ìŠ¤ë¡œ í•  ìˆ˜ ìžˆëŠ” ìž‘ì—…ì„ ë©€í‹° ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰í•  ê²½ìš°, í”„ë¡œì„¸ìŠ¤ë¥¼ ìƒì„±í•´ ìžì›ì„ í• ë‹¹í•˜ëŠ” **ì‹œìŠ¤í…œ ì½œì´ ì¤„ì–´ë“¤ì–´** ìžì›ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìžˆë‹¤. ë¿ë§Œ ì•„ë‹ˆë¼, **í”„ë¡œì„¸ìŠ¤ ê°„ì˜ í†µì‹ (IPC)ë³´ë‹¤ ìŠ¤ë ˆë“œ ê°„ í†µì‹  ë¹„ìš©ì´ ì ìœ¼ë¯€ë¡œ** ìž‘ì—…ë“¤ ê°„ì˜ í†µì‹ ì˜ ë¶€ë‹´ì´ ì¤„ì–´ë“ ë‹¤.





### ìžë°”ì˜ ìŠ¤ë ˆë“œ?

- **ìžë°”ì—ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì¡´ìž¬í•˜ì§€ ì•Šê³ , ìŠ¤ë ˆë“œë§Œ ì¡´ìž¬í•œë‹¤!**
- JVMì´ ìš´ì˜ì²´ì œ ì—­í• ì„ í•œë‹¤. (ìžì› í• ë‹¹)
- ìžë°”ì—ì„œ ìŠ¤ë ˆë“œ ìŠ¤ì¼€ì¤„ë§ì€ ì „ì ìœ¼ë¡œ JVMì— ì˜í•´ ì´ë£¨ì–´ì§„ë‹¤. ìŠ¤ë ˆë“œì™€ ê´€ë ¨ëœ ë§Žì€ ì •ë³´ë“¤ë„ JVMì´ ê´€ë¦¬í•œë‹¤.
  - ë©”ì¸ ìŠ¤ë ˆë“œ ìƒì„± (ìž‘ì—… ìŠ¤ë ˆë“œë“¤ì€ JVMì´ ì•„ë‹Œ ë©”ì¸ ìŠ¤ë ˆë“œê°€ ë§Œë“ ë‹¤)
  - ìŠ¤ë ˆë“œê°€ ëª‡ ê°œ ì¡´ìž¬í•˜ëŠ”ì§€
  - ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œê·¸ëž¨ ì½”ë“œì˜ ë©”ëª¨ë¦¬ ìœ„ì¹˜ëŠ” ì–´ë””ì¸ì§€
  - ìŠ¤ë ˆë“œì˜ ìƒíƒœëŠ” ë¬´ì—‡ì¸ì§€
  - ìŠ¤ë ˆë“œ ìš°ì„ ìˆœì˜ëŠ” ì–¼ë§ˆì¸ì§€





## ë©€í‹° í”„ë¡œì„¸ìŠ¤ vs ë©€í‹° ìŠ¤ë ˆë“œ

### ë©€í‹° í”„ë¡œì„¸ì‹±ì´ëž€?

í•˜ë‚˜ì˜ ì‘ìš©í”„ë¡œê·¸ëž¨ì„ ì—¬ëŸ¬ ê°œì˜ í”„ë¡œì„¸ìŠ¤ë¡œ êµ¬ì„±í•´ ê° í”„ë¡œì„¸ìŠ¤ê°€ í•˜ë‚˜ì˜ ìž‘ì—…(íƒœìŠ¤í¬)ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

ex. êµ¬ê¸€ í¬ë¡¬ íƒ­

ðŸ‘ ì—¬ëŸ¬ ê°œì˜ ìžì‹ í”„ë¡œì„¸ìŠ¤ ì¤‘ í•˜ë‚˜ì— ë¬¸ì œê°€ ë°œìƒí•˜ë©´, ê·¸ ìžì‹ í”„ë¡œì„¸ìŠ¤ë§Œ ì£½ëŠ”ë‹¤. (ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í–¥ì´ ì—†ë‹¤.)

ðŸ‘Ž Context Switching ì˜¤ë²„í—¤ë“œ

â€‹	Context Switching ê³¼ì •ì—ì„œ ìºì‹œ ë©”ëª¨ë¦¬ ì´ˆê¸°í™” ë“± ë¬´ê±°ìš´ ìž‘ì—…ì´ ì§„í–‰ë˜ê³ , ë§Žì€ ì‹œê°„ì´ ì†Œëª¨ë˜ëŠ” ë“± ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•œë‹¤.  
â€‹	í”„ë¡œì„¸ìŠ¤ëŠ” ê°ê°ì˜ ë…ë¦½ëœ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í• ë‹¹ë°›ì•˜ê¸° ë•Œë¬¸ì— í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì—ì„œ ê³µìœ í•˜ëŠ” ë©”ëª¨ë¦¬ê°€ ì—†ì–´, Context Switchingì´ ë°œìƒí•˜ë©´ ìºì‹œ ë ˆì§€ìŠ¤í„°(ì´ê±´ í•˜ë‚˜ ë¿ì´ë‹¤)ì— ìžˆëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ëª¨ë‘ ë¦¬ì…‹í•˜ê³ , ë‹¤ì‹œ ìºì‹œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤.

â€‹		**A í”„ë¡œì„¸ìŠ¤ ì§„í–‰ ì¤‘ -> B ë ˆì§€ìŠ¤í„° ì‹¤í–‰í•˜ë ¤ê³  í•œë‹¤. -> ìºì‹œ ë ˆì§€ìŠ¤í„°ì— ì €ìž¥ë˜ì–´ ìžˆë˜ B í”„ë¡œì„¸ìŠ¤ë¥¼ êº¼ë‚´ê³ , A í”„ë¡œì„¸ìŠ¤ë¥¼ ì €ìž¥í•œë‹¤. -> ë‹¤ì‹œ Aë¥¼ í•˜ë ¤ê³  í•˜ë©´ -> ìºì‹œ ë ˆì§€ìŠ¤í„°ì— ì €ìž¥ë˜ì–´ ìžˆë˜ A í”„ë¡œì„¸ìŠ¤ë¥¼ êº¼ë‚´ê³ , B í”„ë¡œì„¸ìŠ¤ë¥¼ ì§‘ì–´ë„£ëŠ”ë‹¤. ** 

ðŸ‘Ž í”„ë¡œì„¸ìŠ¤ ê°„ ì–´ë µê³  ë³µìž¡í•œ í†µì‹  ê¸°ë²• IPC

â€‹	í”„ë¡œì„¸ìŠ¤ëŠ” ê°ê° ë…ë¦½ëœ ë©”ëª¨ë¦¬ ì˜ì—­ì„ í• ë‹¹ë°›ì•˜ê¸° ë•Œë¬¸ì—, í•˜ë‚˜ì˜ í”„ë¡œê·¸ëž¨ì— ì†í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ë“¤ ì‚¬ì´ì— ë³€ìˆ˜ë¥¼ ê³µìœ í•  ìˆ˜ ì—†ë‹¤.



### ë©€í‹° ìŠ¤ë ˆë”©ì´ëž€?

í•˜ë‚˜ì˜ ì‘ìš©í”„ë¡œê·¸ëž¨ì„ ì—¬ëŸ¬ ê°œì˜ ìŠ¤ë ˆë“œë¡œ êµ¬ì„±í•˜ê³ , ê° ìŠ¤ë ˆë“œê°€ í•˜ë‚˜ì˜ ìž‘ì—…ì„ ì²˜ë¦¬í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ë‹¤.

ex. ì›¹ ì„œë²„, ???

ðŸ‘ ë¹ ë¥¸ Context Switching

â€‹	ìŠ¤ë ˆë“œ ê°„ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ê²Œ ê°„ë‹¨í•´ì§€ê³ , ì‹œìŠ¤í…œ ìžì› ì†Œëª¨ê°€ ì¤„ì–´ë“ ë‹¤. (ìŠ¤ë ˆë“œ ì‚¬ì´ì˜ ìž‘ì—…ëŸ‰ì´ ì ë‹¤)

ðŸ‘ ê°„ë‹¨í•œ í†µì‹  ë°©ë²•ìœ¼ë¡œ ì¸í•œ í”„ë¡œê·¸ëž¨ ì‘ë‹µ ì‹œê°„ ë‹¨ì¶•

â€‹	ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ stack ì˜ì—­ì„ ì œì™¸í•œ ëª¨ë“  ë©”ëª¨ë¦¬ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— í†µì‹ ì˜ ë¶€ë‹´ì´ ì ë‹¤.

ðŸ‘Ž ì£¼ì˜ ê¹Šì€ ì„¤ê³„ê°€ í•„ìš”í•˜ë‹¤.

ðŸ‘Ž ë””ë²„ê¹…ì´ ê¹Œë‹¤ë¡­ë‹¤.

ðŸ‘Ž ìžì› ê³µìœ ë¡œ ì¸í•œ ë™ê¸°í™” ë¬¸ì œê°€ ë°œìƒí•œë‹¤. (ë™ì‹œì— ì‚¬ìš©í•  ë•Œ ì¶©ëŒ ë°œìƒ)

ðŸ‘Ž í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì— ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ì „ì²´ í”„ë¡œì„¸ìŠ¤ê°€ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.







> Context Switching

CPUì—ì„œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ëŒì•„ê°€ë©´ì„œ ìž‘ì—…ì„ ì²˜ë¦¬í•˜ëŠ”ë°, ì´ ê³¼ì •ì„ Context Switchingì´ë¼ í•œë‹¤.

êµ¬ì²´ì ìœ¼ë¡œ, ë™ìž‘ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ê°€ ëŒ€ê¸°í•˜ë©´ì„œ í•´ë‹¹ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœ(Context)ë¥¼ ë³´ê´€í•˜ê³ , ëŒ€ê¸°í•˜ê³  ìžˆë˜ ë‹¤ìŒ ìˆœì„œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë™ìž‘í•˜ë©´ì„œ ì´ì „ì— ë³´ê´€í–ˆë˜ í”„ë¡œì„¸ìŠ¤ì˜ ìƒíƒœë¥¼ ë³µêµ¬í•˜ëŠ” ìž‘ì—…ì„ ë§í•œë‹¤.







> ì°¸ê³ 
>
> https://gmlwjd9405.github.io/2018/09/14/process-vs-thread.html  
> 

