# 스케줄링에 대하여

## 스케줄링이란

Ready queue 중에서 실행시킬 프로세스를 하나 선택하는 것을 스케줄링이라고 한다.



## 스케줄링 기준

스케줄링 알고리즘이 어떤 일을 처리하는 것이 더 좋은지를 평가하는 기준을 말한다.

#### 1. CPU utilization

CPU가 놀지 않고 얼마나 많이 사용되고 있는지를 말한다. CPU가 비싼 자원이라 CPU가 노는 일 없이 많이 일을 할 수 있도록 하는 것이 좋은 알고리즘이다.

#### 2. Throughput

단위 시간당 처리하는 일의 양을 의미한다.

#### 3. Turnaround time

수행 요청이 들어간 후 끝날 때까지의 시간을 말한다. 빨리 끝날수록 좋은 알고리즘이다.

#### 4. Waiting time

수행 요청이 들어갔는데 다른 프로세스가 실행 중이여서 기다려야하는 시간을 말한다. ready queue에서 running이 되기 위해 기다리는 시간을 말한다.

I/O 요청과 같은 이유로 기다리는 시간이 아니라 다른 프로세스 때문에 기다리게 되는 시간을 말한다.

#### 5. Response time

작업이 어떻게 진행되고 있는지에 대한 응답을 주는 시간을 말한다.



## 스케줄링 알고리즘

### FIFO(First In First Out)

말 그대로 들어오는 순서대로 처리하는 알고리즘이다. 이 알고리즘은 제일 **공평한 알고리즘**이다. starvation이 없다는 장점이 있다.

그러나 burst(수행 시간)가 큰 작업이 먼저 들어오게 되면 average waiting time 측면에서 좋지 않다.

> burst가 10, 5, 3인 순서대로 들어왔다면 waiting time은 0 + 10 + 15 = 25이다. 3으로 나누면 평균 waiting ime은 약 8 정도가 된다.
>
> 만약 3, 5, 10의 순서로 들어온다면 waiting time이 0 + 3 + 5 = 8이여서 평균 2에서 3정도의 waiting time을 가진다.

이러한 현상을 convey effect라고 부른다.

### SJF(Shortest Job First Scheduling)

이 알고리즘은 수행 시간이 짧은 작업을 우선적으로 처리하는 작업이다. FIFO가 가지는 단점을 보완하기 위해서 나온 알고리즘이기 때문에 average waiting time이 가장 적게 걸린다.

어려운 점은 프로세스가 가지는 burst를 미리 알 수 없기 때문에 실제로 적용하기가 어렵다. 그래서 기다리고 있는 작업 중 수행시간이 가장 짧다고 판단되는 작업을 먼저 수행하도록 한다.

### PS(Priority Scheduling)

말 그대로 우선순위가 높은 프로세스를 먼저 스케줄링 하는 것이다. 여기서 우선순위를 어떻게 주느냐에 따라 FIFO이 될 수도 있고 SJF가 될 수도 있는 특징을 지녔다.

즉 어떤 의미에 다라 우선 순위를 주고 높은 프로세스를 스케줄링 하는 방법이 Priority scheduling이라 한다.

우선순위 알고리즘의 가지는 단점은 starvation이 발생할 수 있다. 우선순위가 낮은 프로세스는 높은 프로세스에게 밀려서 무한이 기다리는 문제가 발생한다. 이런 단점을 해결하기 위한 방법으로 나온 것이 aging이다. ready queue에 들어온 시점에 따라 나이를 주는 방법이다.

### RR(Round Robin)

현재 우리의 운영체제는 Priority + RR의 형태로 스케줄링이 진행되고 있다.

RR에서는 time quantum이라는 개념이 존재하는데 일을 끝내야 할 프로세스마다 얼만큼 시간동안 머물러서 작업을 하고 교체할 것인지를 말한다.

time quantum이 작아질 수록 context switch가 늘어난다. 그럼 어떤 기준으로 time quantum을 정해야 할까? 이를 정하는 룰이 rule of thumb이다. CPU burst의 80% 정도를 포함할 수 있도록 설정해야 한다는 규칙이다.

