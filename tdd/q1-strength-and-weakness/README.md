# TDD에 대해 설명해 주시겠어요?

[엘리의 TDD 장단점](elly-tdd-strength-and-weakness.md)

[비밥의 TDD](bebop.md)

[코일의 TDD](coyle-tdd-strength-and-weakness.md)

---

## TDD
실패하는 테스트를 만들고, 테스트를 통과하기 위한 최소한의 코드를 만들고, 이를 리팩토링하는 과정이다.

## TDD의 장점
OOP로 이어진다. 객체지향적인 코드는 테스트하기 쉽기 때문이다. 테스트를 짜면서 지금 설계하는 코드가 어떤 로직인지, 어떤 객체의 역할인지 고민하게 되고, 객체 간 의존성을 최소한으로 설계하게 된다. 이와 같은 맥락으로 확장이 용이하다. 전체 구조에 영향을 최소한으로 미치기 때문이다. 또, 디버깅 시간을 줄여준다. 단위 테스트 기반의 코드를 작성해가기 때문에 문제가 발생했을 때, 전체 코드를 볼 필요 없이 문제 지점을 정확히 파악할 수 있다.
변화에 대한 두려움을 줄여준다. 프로덕션 코드를 잘 바꾸지 않게 되기 때문에 계속 리팩토링할 여지를 남겨준다.
심리적 안정감으로 이어진다. 좋은, 창의적인 설계가 가능해진다.

TDD는 프로덕션 코드가 완성된 후 테스트 코드를 작성하는 것과 달리 테스트 코드를 먼저 작성하고 프로덕션 코드를 작성하기 때문에 공격적 테스트라고 불리기도 한다.
공격적인 테스트를 통해 결합도가 낮은 프로덕션 코드의 설계가 쉬워진다. 뿐만 아니라 테스트 코드가 작성됨으로써 디버그 하기 쉬워지며 리팩토링하기에도 쉬운 코드가 작성된다.

TDD 방식으로 테스트 코드를 작성하는 것이 개발 속도측면에서 느려보일 수 있지만 이미 작성된 코드(레거시 코드)에 테스트 코드를 추가하려 하는 경우 강결합된 코드로 인해 테스트 작성이 힘들어 질 수 있으며, 그에 따라 테스트가 가능한 구조로 개선하는 비용은 처음부터 TDD로 작성한 비용보다 매우 비싸다.

테스트들이 하나의 명세가 되기도 한다. 기능이 어떻게 동작하는지 테스트만 보고도 예측할 수 있다. 동작하는 문서이다.
리팩토링에서 안전장치가 된다. 리팩토링을 진행하며 다른 기능들에 영향을 끼치지는 않는지 점검하며 테스트할 수 있다.

## TDD의 단점
프로덕션 코드를 짜는 것보다 시간이 2배로 오래 걸린다.
경험에 의해 어떤 식으로 로직이 흘러가고, 어떤 예외가 터질지에 대해 다 알고 있는 경우라면 비효율적일 수 있다.

## 돌아가서, 프로젝트를 하나 완성시켜야한다면 TDD를 도입할 것인가?
빠르게 완성해야하는 프로젝트라면 TDD를 지양할 것 같다. 그러나, 대부분의 경우에는 무리해서라도 도입할 것이다. 트레이드 오프의 영역이라고 생각하지만, 잃는 것보다 얻는 것이 더 많다고 생각한다. 초기에 테스트 코드를 작성하며 소요한 시간보다 후에 리팩토링하며 버그를 고치는 시간이 더 많아질 것일 것이라고 생각한다.

## ATDD
인수 테스트를 작성하고, 이를 성공시키기 위한 작은 테스트들을 수행하는 방식. (Outside-In) 테스트 대상의 인터페이스부터 만들고, 단계적으로 레이어 별 테스트를 진행한다.
우리가 알고 있던 TDD는 Inside-Out.

정답은 없다! 상황에 맞게 아는 것에서 모르는 것으로 향하면 된다.
예를 들어, 도메인 로직에 익숙한 경우에는 도메인부터 개발하고, 점점 큰 범위를 테스트하면 되고,
회원가입/로그인/탈퇴 등과 같이 api가 어느정도 정의되어 있는 경우에는 ATDD 방식으로 개발하는 것이 효과적이다.

## TDD vs ATDD

ATDD는 TDD의 한 부류라고 생각한다. TDD는 더 작은 단위로 메소드들을 테스트하며 구현하는 방법론이라면 ATDD는 사용자에게 서비스되는 하나의 기능을 단위로 테스트 하며 진행한다. 또한 TDD는 도메인 지식이 해박하다면 inside-out방식으로도, 그렇지 않다면 outside-in방식으로도 구현할 수 있다. 예를 들어, 로또 게임을 만드는데, 로또에 대한 지식이 풍부하다면 처음부터 로또 숫자 6개에 대고 테스트할 것이다. 하지만 그렇지 않다면 그 위의 레벨부터 테스트할 것이다. 반면에 ATDD는 outside-in 방식입니다.

## BDD에 대해 아시나요 ?

BDD는 시나리오 기반 테스트 케이스를 작성하는 것을 의미하며 함수 단위의 테스트를 지양한다.

보통 Given, When, Then 구조로 나누는 패턴을 작성한다.

인수 테스트라 불리는 ATDD가 사용자의 관점에서 시나리오 테스트를 진행한다면
BDD는 시스템 관점의 인터페이스 테스트라고 할 수 있다.

다시말해 ATDD가 특정 기능들의 일련의 과정에 초점을 맞춘것이라면
BDD는 특정 기능의 동작에 대해 초점을 맞춘것이다.

## TDD vs BDD
BDD는 비즈니스 요구사항과, 테스트 대상의 상태 변화에 집중한다. 사용자가 회원가입을 하고, 로그인을 하고, 탈퇴하고 하는 일련의 기능들처럼 말이다.
