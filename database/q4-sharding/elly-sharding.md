# 샤딩이 뭐죠?

데이터베이스 저장기법 중 하나.

하나의 거대한 데이터베이스 테이블을 여러 개의 작은 단위로 나눠 물리적으로 다른 위치에 분산해서 저장, 관리하는 기술이다.



ex. `많은 조직이 고객별로 샤드하고 각 샤드에는 특정 고객 관련 정보 그룹이 포함되어 있다.`

데이터베이스 쿼리 및 쓰기 작업은 다음 두 가지 모드 중 하나로 수행된다.

- 단일 샤드 : 각 데이터베이스 작업은 단일 고객 트랜잭션과 같은 단일 샤드에 대해 수행된다.
- 다중 샤드 : 이는 일반적으로 하나 이상의 샤드에 대해 병렬로 수행되는 분석 쿼리에 적용되므로 인상적인 성능 결과를 얻을 수 있다.



### Why 샤딩?

**쿼리 응답 시간이 단축된다.**

데이터베이스에서 쿼리를 제출할 경우, 대규모의 단일 데이터베이스의 경우, 쿼리 속도가 엄청 느려질 수 있다. 그러나, 한 테이블을 여러 개의 테이블로 분할하면 탐색하는 행 수가 줄어들고, 결과 집합이 훨씬 빠르게 반환된다.

즉, 샤딩 기술을 사용하면 부하를 분산시켜서 더 많은 트래픽, 더 빠른 처리가 가능하다.



❗️ 단, 여러 샤드에 걸쳐 있는 내부 조인을 사용하는 쿼리 등은 매우 비효율적이고 수행하기 어렵다(크로스 샤드 조인). 주의해서 사용하자



### 어떻게 하지?

1. Vertical Partitioning

   테이블 별로 서버를 분할하는 방식 (사용자 프로필용 서버, 사용자 친구리스트용 서버, 사용자가 올린 컨텐츠 서버 등)

2. Range Based Partitioning
3. 











> 참고
>
> [위키백과-데이터베이스 샤딩](http://wiki.hash.kr/index.php/데이터베이스_샤딩)  
>

