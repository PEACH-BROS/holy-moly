# RESTful이란?

## REST?

**RE**presentational **S**tate **T**ransfer : HTTP를 기반으로 필요한 자원에 접근하는 방식이다. 자원은 DB에 저장된 데이터는 물론 이미지, 문서, 파일 등을 모두 포함한다.





## REST api?

REST를 통해 서비스의 api를 구현한 것을 말한다.





## REST api의 메소드?

크게 GET, POST, PUT, PATCH, DELETE에 대해 이야기해보자면!

GET은 말 그대로 자원을 가져오는 메소드이다.

POST는 자원을 생성하는 요청에 주로 사용된다. 응답에 Location 헤더에 생성된 자원에 접근할 수 있는 uri를 포함시키는 것이 일반적이다.

PUT은 uri에 명시된 자원을 업데이트할 때 주로 쓰인다.

PATCH 또한 업데이트 시에 쓰이는데, PUT이 전체 수정에 유리하다면, PATCH는 부분 수정에 유리하다. 자원에서 변경이 필요한 부분만 보내면 해당 자원을 찾아 업데이트를 해주지만, PUT 요청으로 변경할 부분만 보낸다면 해당 자원을 찾지 못하고 새로운 자원을 생성한다.

DELETE는 삭제 시 주로 쓰인다.





## RESTful하게 작성하는 법?

RESTful이란 REST를 REST답게 작성하기 위해 여러 개발자들이 비공식적으로 의견을 제시한 것. 대표적으로 자원은 복수형으로 쓰는 것이 있다. 슬래시(/)로 계층 관계를 표현하고, 변경이 요구되는 자원의 id값을 uri에 포함시키기도 한다. 가령, 3번째 멤버를 삭제하는 요청은  `DELETE /member/3` 이렇게 말이다.





## RESTful하지 못한 예?

- CRUD 기능을 모두 POST로만 처리하는 api

- uri에 자원과 id 외의 정보(ex. 행위)가 들어가는 경우. student 하나의 이름을 변경하는 api의 경우 `PUT /students/updateName`이 아니라, `PUT /students/:id/name`이 되어야 한다.
- 🤔 상태 코드가 전부 200 OK인 경우도 restful하지 못할까?





## HATEOAS?

REST api에 단점이 존재한다.

- REST api의 엔드 포인트 uri가 정해지고 나면, 변경이 어렵다. 변경이 생기면 모든 클라이언트 쪽에서도 똑같이 수정해주어야 한다.

- 자원의 상태를 고려하지 않는다.



이러한 단점을 보완하기 위해 HATEOAS가 등장했는데, 

- 요청 uri가 변경되더라도 클라이언트에서 동적으로 생성된 uri를 사용하게 된다. 따라서 변경할 필요가 없다.

- uri 정보를 통해 들어오는 요청을 예측할 수 있다.
- resource가 포함된 uri를 보여주기 때문에 resource에 대한 확신을 얻을 수 있다.



이러한 장점들이 있다.

근데 안 써봐서 잘 모르겠어요!