# 서브넷

## 서브넷이 등장한 배경?

**IPv4 방식의 비효율성** 때문에 등장했다.

✅ **IP (Internet Protocol)** : 네트워크에서 데이터를 주고받을 때 통신 규약

✅ **IP Address** : 통신하는 장치(ex. wi-fi 공유기같은 라우터, 핸드폰)의 주소. 모든 장치는 각자의 주소를 가진다.

✅ **IPv4 방식** : `123.123.123.123` (내부적으로는 `1111011.1111011.1111011.1111011`) 과 같이 32 bit로 이루어진 주소 체계. 

| 클래스      | 최상위 비트 | 범위                      | 네트워크 비트 수 | 호스트 비트 수 | 네트워크 수 | 호스트 수  |
| ----------- | ----------- | ------------------------- | ---------------- | -------------- | ----------- | ---------- |
| **Class A** | 0           | 0.0.0.0 ~ 127.0.0.0       | 8                | 24             | 2^7 = 128   | 16,777,214 |
| **Class B** | 1           | 128.0.0.0~191.255.0.0     | 16               | 16             | 16,384      | 65,534     |
| **Class C** | 11          | 192.0.0.0~223.255.255.0   | 24               | 8              | 2,097,152   | 254        |
| Class D     | 111         | 224.0.0.0~239.255.255.255 | N/A              | N/A            | N/A         | N/A        |
| Class E     | 1111        | 240.0.0.0~255.255.255.255 | N/A              | N/A            | N/A         | N/A        |

보통 Class A는 대규모 네트워크 환경, B는 중규모, C는 소규모(254개의 IP주소 사용 가능) 네트워크 환경에 적용된다.



**IP주소 = 네트워크 주소 + 호스트 주소**

네트워크 주소 : 인터넷 상에서 네트워크를 구분하는 역할

호스트 주소 : 특정 네트워크 안에 존재하는 기기들을 구분하는 역할

❗️호스트가 뭐였더라 프린트 찾아보기!!!



예를 들어 클래스 B를 어느 업체에 할당했을 때, 65000여 개의 IP를 다 쓰는 것이 아니라, 10000개 정도만 쓴다고 가정하자. 그럼 나머지 55000여 개의 IP주소는 낭비된다.

하지만, 클래스 C를 할당하자니, IP자원이 너무 부족하게 된다.



이러한 문제를 해결하기 위해 IP를 사용하는 네트워크 장치 수에 따라 효율적으로 사용할 수 있는 서브넷(Subnet) 이 등장하게 되었다.

---



## Subnet (부분 + 망)

이렇게 Host Number의 비트를 부분적으로 떼오는 방법이 등장했다! (네트워크를 분할해서 더 많은 네트워크를 생성할 수 있다)

![image](https://user-images.githubusercontent.com/19922698/85528384-c22e4680-b646-11ea-91e5-3a36b4cba1e0.png)

Network Prefix는 IP 클래스에 의해 분리되는 것.

```
11001101 00000000 00000001 xxxxxxxx
```

이 IP 주소는 최상위 비트가 11이므로 Class C에 속하는 네트워크이다. 따라서 앞의 24비트는 네트워크 주소이고, 뒤의 8비트는 호스트 주소이다. 기본적으로 Class C 네트워크는 서브넷 마스크로 `/24`를 가지고 있다. **즉, 서브넷 마스크 값은 네트워크 주소를 나타내는 비트 수를 명시한 값이다.**

위의 네트워크가 가질 수 있는 호스트 주소의 수는 256개이다. 하지만, 이 네트워크를 아래와 같이 잘게 쪼갤 수 있다.

```
11001101 00000000 00000001 1xxxxxxx
```

이렇게 되면 서브넷 마스크는 `/25`가 되고, 호스트 주소의 수는 128개가 된다.







> 참고
>
> https://engkimbs.tistory.com/621  
> https://engkimbs.tistory.com/622  
> https://hyoje420.tistory.com/32

