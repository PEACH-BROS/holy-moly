# HTTPS는 어떻게 동작하나요?

[엘리의 HTTPS](elly-https.md)

[비밥의 HTTPS](bebop.md)

[코일의 HTTPS](coyle.md)

[스티치의 HTTPS](stitch.md)

---

### 전자서명

데이터를 보호할 목적이 아닌, 데이터를 제공한 사람의 신원 보장을 위해 사용된다. 

비밀키-공개키는 한 쌍을 이루기 때문에 가능하다. 

이를 **전자서명**이라고 부른다.

### 어떻게 동작하나요 ?

응용계층의 HTTP 프로토콜에서 사용자의 데이터를 받고 전송계층으로 캡슐화되기 이전에 SSL 프로토콜에 의해서 사용자의 데이터가 암호화된다. 그리고 서버는 전송계층에서 세그먼트를 받아 SSL 계층에서 데이터를 복호화하여 응용계층까지 보낸다.

### SSL 동작방법

- 공개키 암호 방식은 알고리즘 계산방식이 느린 경향이 있다.
- 따라서 SSL은 암호화된 데이터를 전송하기 위해서 공개키와 대칭키 암호화 방식을 혼합하여 사용한다.
- 안전한 의사소통 채널을 수립할 때는 공개키 암호를 사용하고, 이렇게 만들어진 안전한 채널을 통해서 임시의 무작위 대칭키를 생성 및 교환한다. 해당 대칭키는 나머지 데이터 암호화에 활용한다.
  - 실제 데이터 암호화 방식 : 대칭키
  - 상기 대칭키를 서로 공유하기 위한 암호화 방식 : 공개키

### SSL 통신과정

- 컴퓨터와 컴퓨터가 네트워크를 통해서 통신을 할때 `핸드쉐이크 -> 세션 -> 세션종료` 의 과정을 거친다.
- 암호화된 HTTP 메시지를 교환하기 전에 클라이언트와 서버는 `SSL 핸드쉐이크를` 진행한다.
- 핸드쉐이크의 목적은 아래와 같다.
  - 프로토콜 버전번호 교환
  - 양쪽이 알고 있는 pre master secret 키 생성 및 교환
  - 양쪽의 신원 인증
  - 채널을 암호화 하기 위한 임시 세션 키 생성
- SSL 통신과정을 간단하게 도식화 하면 아래와 같다.

![views](https://i.imgur.com/YIfy1wK.png)

